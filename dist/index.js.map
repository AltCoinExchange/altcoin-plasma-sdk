{"version":3,"sources":["webpack:///dist/index.js","webpack:///webpack/bootstrap d502dbabb6ca1867bde2","webpack:///./src/main/main.ts","webpack:///external \"altcoin-ethereum-wallet\"","webpack:///./src/main/eth/ethereum-account.ts","webpack:///external \"bitcore-lib\"","webpack:///external \"eth-lib/lib/account\"","webpack:///external \"eth-lib/lib/hash\"","webpack:///external \"web3-utils\"","webpack:///./src/main/config/main.config.ts","webpack:///external \"lotion\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","verb","v","op","f","TypeError","_","y","t","label","ops","pop","trys","length","push","g","sent","throw","return","Symbol","iterator","altcoin_ethereum_wallet_1","ethereum_account_1","main_config_1","connect","LightClient","GCI","options","privKey","authenticate","acc","EthereumAccount","recoverAccount","eng","EthEngine","App","eth","keystore","login","recoverAccountAndSignMessage","pkey","order","signature","signReceiptTendermint","payload","sender","sellToken","buyToken","sellAmount","buyAmount","nonce","r","messageHash","refreshState","path","_a","state","send","stateResult","_b","data","deposit","token","amount","tokenContract","approvedResult","TokenFactory","GetToken","approve","contractAddress","DepositToken","action","make","buyTokenObj","sellTokenObj","signedOrder","address","getActiveOrders","withdraw","require","bitcore","Account","Hash","Web3Utils","account","privateKey","recoverAccountFromSeed","seed","hdKey","HDPrivateKey","toString","fromPrivate","pk","hexValue","hash","hashMessage","signHash","signWithdrawTendermint","signReceipt","ticketNumber","Error","sign","val","asciiToHex","replace","vrs","decodeSignature","message","keccak256s","wshost","defaultWallet"],"mappings":"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","file":"dist/index.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [0, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar altcoin_ethereum_wallet_1 = __webpack_require__(1);\nvar ethereum_account_1 = __webpack_require__(2);\nvar main_config_1 = __webpack_require__(7);\nvar connect = __webpack_require__(8).connect;\nvar LightClient = /** @class */ (function () {\n    function LightClient(GCI, options, privKey) {\n        this.GCI = GCI;\n        this.options = options;\n        this.privKey = privKey;\n        this.authenticate(this.privKey);\n    }\n    /**\n     * Authenticate user\n     * @param {string} privKey\n     */\n    LightClient.prototype.authenticate = function (privKey) {\n        this.privKey = privKey;\n        this.acc = ethereum_account_1.EthereumAccount.recoverAccount(privKey);\n        this.eng = new altcoin_ethereum_wallet_1.EthEngine(null, main_config_1.App.eth, null);\n        this.keystore = this.eng.recoverAccount(this.privKey);\n        this.eng.login(this.keystore);\n    };\n    /**\n     * Recover account and sign message\n     * @param pkey\n     * @param order\n     * @returns {any}\n     */\n    LightClient.prototype.recoverAccountAndSignMessage = function (pkey, order) {\n        var acc = ethereum_account_1.EthereumAccount.recoverAccount(pkey);\n        var signature = acc.signReceiptTendermint(order.payload.sender, order.payload.sellToken, order.payload.buyToken, order.payload.sellAmount, order.payload.buyAmount, order.payload.nonce);\n        order.payload[\"v\"] = signature.v;\n        order.payload[\"r\"] = signature.r;\n        order.payload[\"s\"] = signature.s;\n        order.payload[\"signature\"] = signature.signature;\n        order.payload[\"messageHash\"] = signature.messageHash;\n        return order;\n    };\n    /**\n     * Get lastest state from node\n     * @returns {Promise<any>}\n     */\n    LightClient.prototype.refreshState = function (path) {\n        if (path === void 0) { path = ''; }\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, state, send, stateResult;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, connect(this.GCI, this.options)];\n                    case 1:\n                        _a = _b.sent(), state = _a.state, send = _a.send;\n                        return [4 /*yield*/, state[path]];\n                    case 2:\n                        stateResult = _b.sent();\n                        this.state = stateResult;\n                        return [2 /*return*/, stateResult];\n                }\n            });\n        });\n    };\n    LightClient.prototype.send = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, state, send;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, connect(this.GCI, this.options)];\n                    case 1:\n                        _a = _b.sent(), state = _a.state, send = _a.send;\n                        return [4 /*yield*/, send(data)];\n                    case 2: return [2 /*return*/, _b.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Deposit token\n     * @param {TOKENS} token\n     * @param {number} amount\n     * @returns {Promise<any>}\n     */\n    LightClient.prototype.deposit = function (token, amount) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tokenContract, approvedResult, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tokenContract = altcoin_ethereum_wallet_1.TokenFactory.GetToken(token, this.eng);\n                        return [4 /*yield*/, tokenContract.approve(main_config_1.App.eth.contractAddress, amount)];\n                    case 1:\n                        approvedResult = _a.sent();\n                        return [4 /*yield*/, tokenContract.DepositToken(amount)];\n                    case 2:\n                        result = _a.sent();\n                        return [4 /*yield*/, this.send({ action: \"deposit\", payload: { nonce: 2 } })];\n                    case 3: \n                    // Notify side chain about it\n                    // TODO: Fix getting the nonce\n                    return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * Make order\n     * @param {TOKENS} sellToken\n     * @param {TOKENS} buyToken\n     * @param {number} sellAmount\n     * @param {number} buyAmount\n     * @returns {Promise<any>}\n     */\n    LightClient.prototype.make = function (sellToken, buyToken, sellAmount, buyAmount) {\n        return __awaiter(this, void 0, void 0, function () {\n            var buyTokenObj, sellTokenObj, order, signedOrder;\n            return __generator(this, function (_a) {\n                buyTokenObj = altcoin_ethereum_wallet_1.TokenFactory.GetToken(buyToken, this.eng);\n                sellTokenObj = altcoin_ethereum_wallet_1.TokenFactory.GetToken(sellToken, this.eng);\n                order = {\n                    \"action\": \"make\",\n                    \"payload\": {\n                        \"sellToken\": sellTokenObj.contractAddress,\n                        \"buyToken\": buyTokenObj.contractAddress,\n                        \"sellAmount\": sellAmount,\n                        \"buyAmount\": buyAmount,\n                        \"nonce\": \"1\",\n                        \"sender\": this.acc.address,\n                    }\n                };\n                signedOrder = this.recoverAccountAndSignMessage(this.privKey, order);\n                return [2 /*return*/, this.send(signedOrder)];\n            });\n        });\n    };\n    /**\n     * Get active orders for this account\n     * @returns {Promise<any>}\n     */\n    LightClient.prototype.getActiveOrders = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.refreshState(\"accounts[\" + this.acc.address + \"]\")];\n                    case 1:\n                        result = _a.sent();\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    /**\n     * Withdraw\n     * @param {WithdrawDto} data\n     * @returns {Promise<any>}\n     */\n    LightClient.prototype.withdraw = function (data) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    return LightClient;\n}());\nexports.LightClient = LightClient;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"altcoin-ethereum-wallet\");\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar bitcore = __webpack_require__(3);\nvar Account = __webpack_require__(4);\nvar Hash = __webpack_require__(5);\nvar Web3Utils = __webpack_require__(6);\nvar EthereumAccount = /** @class */ (function () {\n    function EthereumAccount(account) {\n        this.account = account;\n    }\n    Object.defineProperty(EthereumAccount.prototype, \"privateKey\", {\n        get: function () {\n            return this.account.privateKey;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(EthereumAccount.prototype, \"address\", {\n        get: function () {\n            return this.account.address;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EthereumAccount.recoverAccountFromSeed = function (seed) {\n        var hdKey = new bitcore.HDPrivateKey(seed);\n        var privKey = hdKey.privateKey.toString();\n        return new EthereumAccount(Account.fromPrivate(\"0x\" + privKey));\n    };\n    EthereumAccount.recoverAccount = function (pk) {\n        return new EthereumAccount(Account.fromPrivate(pk));\n    };\n    EthereumAccount.prototype.signReceiptTendermint = function (sender, sellToken, buyToken, sellAmount, buyAmount, nonce) {\n        var data = sender + sellToken + buyToken + this.hexValue(sellAmount) + this.hexValue(buyAmount) + this.hexValue(nonce);\n        var hash = this.hashMessage(data);\n        return this.signHash(data, hash);\n    };\n    EthereumAccount.prototype.signWithdrawTendermint = function (sender, token, amount) {\n        var data = sender + token + this.hexValue(amount);\n        var hash = this.hashMessage(data);\n        return this.signHash(data, hash);\n    };\n    EthereumAccount.prototype.signReceipt = function (contractAddress, value, ticketNumber) {\n        if (typeof value !== \"string\") {\n            throw new Error(\"value must be string\");\n        }\n        var data = contractAddress + this.hexValue(value) + this.hexValue(ticketNumber);\n        return this.sign(data);\n    };\n    EthereumAccount.prototype.hexValue = function (val) {\n        return Web3Utils.asciiToHex(val).replace(\"0x\", \"\");\n    };\n    EthereumAccount.prototype.signHash = function (data, hash) {\n        var signature = Account.sign(hash, this.privateKey);\n        var vrs = Account.decodeSignature(signature);\n        return {\n            message: data,\n            messageHash: hash,\n            v: vrs[0],\n            r: vrs[1],\n            s: vrs[2],\n            signature: signature\n        };\n    };\n    ;\n    EthereumAccount.prototype.sign = function (data) {\n        var hash = this.hashMessage(data);\n        var signature = Account.sign(hash, this.privateKey);\n        var vrs = Account.decodeSignature(signature);\n        return {\n            message: data,\n            messageHash: hash,\n            v: vrs[0],\n            r: vrs[1],\n            s: vrs[2],\n            signature: signature\n        };\n    };\n    ;\n    EthereumAccount.prototype.hashMessage = function (data) {\n        return Hash.keccak256s(data);\n    };\n    ;\n    return EthereumAccount;\n}());\nexports.EthereumAccount = EthereumAccount;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"bitcore-lib\");\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"eth-lib/lib/account\");\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"eth-lib/lib/hash\");\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"web3-utils\");\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.App = {\n    eth: {\n        wshost: \"wss://swap.altcoin.io:8550\",\n        contractAddress: \"0x5f450aa5c15664bd88f31e63d0c40961ff129042\",\n        defaultWallet: \"0xb483f5a8c6ebA74Dc1bcef9D167E6B86Caa4C773\",\n    }\n};\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"lotion\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// dist/index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d502dbabb6ca1867bde2","import {DepositDto} from \"./dto/deposit.dto\";\nimport {WithdrawDto} from \"./dto/withdraw.dto\";\nimport {OrderDto} from \"./dto/order.dto\";\nimport {EthEngine, EthereumWallet, TokenFactory, TOKENS} from \"altcoin-ethereum-wallet\";\nimport {EthereumAccount} from \"./eth/ethereum-account\";\nimport {App} from \"./config/main.config\";\n\nconst { connect } = require('lotion');\n\nexport class LightClient {\n\n  private state: any;\n  private acc: EthereumAccount;\n  private eng: EthEngine;\n  private keystore: any;\n\n  constructor(private GCI: string, private options, private privKey) {\n    this.authenticate(this.privKey);\n  }\n\n  /**\n   * Authenticate user\n   * @param {string} privKey\n   */\n  public authenticate(privKey: string) {\n    this.privKey = privKey;\n    this.acc = EthereumAccount.recoverAccount(privKey);\n    this.eng = new EthEngine(null, App.eth, null);\n    this.keystore = this.eng.recoverAccount(this.privKey);\n    this.eng.login(this.keystore);\n  }\n\n  /**\n   * Recover account and sign message\n   * @param pkey\n   * @param order\n   * @returns {any}\n   */\n  public recoverAccountAndSignMessage(pkey, order) {\n    let acc = EthereumAccount.recoverAccount(pkey);\n    const signature = acc.signReceiptTendermint(order.payload.sender,\n      order.payload.sellToken,\n      order.payload.buyToken,\n      order.payload.sellAmount, order.payload.buyAmount, order.payload.nonce);\n\n    order.payload[\"v\"] = signature.v;\n    order.payload[\"r\"] = signature.r;\n    order.payload[\"s\"] = signature.s;\n    order.payload[\"signature\"] = signature.signature;\n    order.payload[\"messageHash\"] = signature.messageHash;\n\n    return order;\n  }\n\n  /**\n   * Get lastest state from node\n   * @returns {Promise<any>}\n   */\n  public async refreshState(path: string = '') {\n    const { state, send } = await connect(this.GCI, this.options);\n    const stateResult = await state[path];\n    this.state = stateResult;\n    return stateResult;\n  }\n\n  private async send(data: any) {\n    const { state, send } = await connect(this.GCI, this.options);\n    return await send(data);\n  }\n\n  /**\n   * Deposit token\n   * @param {TOKENS} token\n   * @param {number} amount\n   * @returns {Promise<any>}\n   */\n  public async deposit(token: TOKENS, amount: number) {\n\n    // Get token\n    const tokenContract = TokenFactory.GetToken(token, this.eng);\n\n    // TODO: More checks\n    // Approve token for spender\n    const approvedResult = await tokenContract.approve(App.eth.contractAddress, amount);\n\n    // Deposit token to contract\n    const result = await tokenContract.DepositToken(amount);\n\n    // Notify side chain about it\n    // TODO: Fix getting the nonce\n    return await this.send({ action: \"deposit\", payload: {nonce: 2} });\n  }\n\n  /**\n   * Make order\n   * @param {TOKENS} sellToken\n   * @param {TOKENS} buyToken\n   * @param {number} sellAmount\n   * @param {number} buyAmount\n   * @returns {Promise<any>}\n   */\n  public async make(sellToken: TOKENS, buyToken: TOKENS, sellAmount: number, buyAmount: number) {\n\n    // Get token\n    const buyTokenObj = TokenFactory.GetToken(buyToken, this.eng);\n    const sellTokenObj = TokenFactory.GetToken(sellToken, this.eng);\n\n    const order = {\n      \"action\" : \"make\",\n      \"payload\" : {\n        \"sellToken\": sellTokenObj.contractAddress,\n        \"buyToken\": buyTokenObj.contractAddress,\n        \"sellAmount\": sellAmount,\n        \"buyAmount\": buyAmount,\n        \"nonce\": \"1\", // TODO: Get latest nonce from state\n        \"sender\": this.acc.address,\n      }};\n\n    const signedOrder = this.recoverAccountAndSignMessage(this.privKey, order);\n\n    return this.send(signedOrder);\n  }\n\n  /**\n   * Get active orders for this account\n   * @returns {Promise<any>}\n   */\n  public async getActiveOrders() {\n    const result = await this.refreshState(`accounts[${this.acc.address}]`);\n    return result;\n  }\n\n  /**\n   * Withdraw\n   * @param {WithdrawDto} data\n   * @returns {Promise<any>}\n   */\n  public async withdraw(data: WithdrawDto) {\n    // TODO: add contract call\n    //return this.send(data);\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/main/main.ts","module.exports = require(\"altcoin-ethereum-wallet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"altcoin-ethereum-wallet\"\n// module id = 1\n// module chunks = 0","import * as bitcore from \"bitcore-lib\";\nimport * as Account from \"eth-lib/lib/account\";\nimport * as Hash from \"eth-lib/lib/hash\";\nimport * as Web3Utils from \"web3-utils\";\nimport { DepositDto } from '../dto/deposit.dto';\n\nexport interface RawAccount {\n  privateKey: string;\n  address: string;\n}\n\nexport class EthereumAccount {\n\n  constructor(private account: RawAccount) {\n  }\n\n  get privateKey() {\n    return this.account.privateKey;\n  }\n\n  get address() {\n    return this.account.address;\n  }\n\n  static recoverAccountFromSeed(seed: string): EthereumAccount {\n    const hdKey = new bitcore.HDPrivateKey(seed);\n\n    const privKey = hdKey.privateKey.toString();\n    return new EthereumAccount(Account.fromPrivate(\"0x\" + privKey));\n  }\n\n  static recoverAccount(pk: string): EthereumAccount {\n    return new EthereumAccount(Account.fromPrivate(pk));\n  }\n\n  signReceiptTendermint(sender, sellToken, buyToken, sellAmount, buyAmount, nonce) {\n    const data = sender + sellToken + buyToken + this.hexValue(sellAmount) + this.hexValue(buyAmount) + this.hexValue(nonce);\n    const hash = this.hashMessage(data);\n    return this.signHash(data, hash);\n  }\n\n  signWithdrawTendermint(sender, token, amount) {\n    const data = sender + token + this.hexValue(amount);\n    const hash = this.hashMessage(data);\n    return this.signHash(data, hash);\n  }\n\n  signReceipt(contractAddress, value, ticketNumber) {\n    if (typeof value !== \"string\") {\n      throw new Error(\"value must be string\");\n    }\n\n    const data = contractAddress + this.hexValue(value) + this.hexValue(ticketNumber);\n    return this.sign(data);\n  }\n\n  hexValue(val) {\n    return Web3Utils.asciiToHex(val).replace(\"0x\", \"\");\n  }\n\n  signHash(data, hash) {\n    const signature = Account.sign(hash, this.privateKey);\n    const vrs = Account.decodeSignature(signature);\n\n    return {\n      message: data,\n      messageHash: hash,\n      v: vrs[0],\n      r: vrs[1],\n      s: vrs[2],\n      signature: signature\n    };\n  };\n\n  sign(data) {\n    const hash = this.hashMessage(data);\n\n    const signature = Account.sign(hash, this.privateKey);\n    const vrs = Account.decodeSignature(signature);\n\n    return {\n      message: data,\n      messageHash: hash,\n      v: vrs[0],\n      r: vrs[1],\n      s: vrs[2],\n      signature: signature\n    };\n  };\n\n  public hashMessage(data: string) {\n    return Hash.keccak256s(data);\n  };\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/main/eth/ethereum-account.ts","module.exports = require(\"bitcore-lib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"bitcore-lib\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"eth-lib/lib/account\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"eth-lib/lib/account\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"eth-lib/lib/hash\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"eth-lib/lib/hash\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"web3-utils\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"web3-utils\"\n// module id = 6\n// module chunks = 0","export const App = {\n  eth: {\n    wshost: \"wss://swap.altcoin.io:8550\",\n    contractAddress: \"0x5f450aa5c15664bd88f31e63d0c40961ff129042\",\n    defaultWallet: \"0xb483f5a8c6ebA74Dc1bcef9D167E6B86Caa4C773\",\n  }\n};\n\n\n// WEBPACK FOOTER //\n// ./node_modules/tslint-loader!./src/main/config/main.config.ts","module.exports = require(\"lotion\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lotion\"\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}